enum NodeType {
	folder
	item
	recipe
}

type Node {
	id: ID!
	name: String!

	type: NodeType!

	item: Item
	recipe: Recipe

	children: [Node!]!
	parent: Node

	order: Int!
}

input CreateNodeInput {
	name: String!
	type: NodeType!
	parentId: ID
	itemId: ID
	recipeId: ID
}

input UpdateNodeInput {
	name: String
	parentId: ID
	order: Int
}

extend type Query {
	nodes: [Node!]!
	rootNodes: [Node!]!
	node(id: ID!): Node
	descendantNodes(id: ID!): [Node!]!
}

extend type Mutation {
	createNode(data: CreateNodeInput!): Node!
	updateNode(id: ID!, data: UpdateNodeInput!): Node!
	deleteNode(id: ID!): Node!
}
